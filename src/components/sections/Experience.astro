---
import Section from "../Section.astro"

import { work } from "@cv"

---
<Section title="Experiencia">
	<ul>
		{
			work.map(
				( { name, startDate, endDate, position, summary, highlights } ) => {
				const startYear = new Date(startDate).getFullYear();
				const endYear = endDate !== null ? new Date(startDate).getFullYear() : "Presente";
				const years = `${startYear} - ${endYear}`;
				return (
					<li>
						<article>
							<header>
								<div>
									<h3>{name}</h3>
									<h4>{position}</h4>
								</div>
								<time>{years}</time>
							</header>
							<footer>
								<p>{summary}</p>
							</footer>
						</article>
						
					</li>
				)
			})
		}
	</ul>
</Section>

<style>
	ul {
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}
	article h3 {
		font-weight: 500;
		color: #111;
	}
	article h4 {
		color: #222;
		font-weight: 400;
	}
	header {
		display: flex;
		justify-content: space-between;
		align-items: flex-start;
		margin-bottom: 0.125rem;
	}
	time {
		font-size: 0.85rem;
		color: #555;
		display: block;
		margin-top: 0.125rem;
	}
</style>